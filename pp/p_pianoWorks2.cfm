<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Untitled Document</title><link href="piano.css" rel="stylesheet" type="text/css" /><cfparam name="work" default="0"><cfparam name="numberOfRecordings" default="0"><cfquery name="pianoWorks" datasource="cage">SELECT     Works_Table.Work_Title, Works_Table.Work_ID, Works_Table.Work_Alt_Title, Instrument_Specific_Table.Instrument, Instrument_Specific_Table.Inst_Spec_ID,                       Works_Table.Work_Date_String, Works_Table.Work_Length_String, Works_Table.Work_General_CommentsFROM         Works_Table INNER JOIN                      Instrument_Specific_Table ON Works_Table.Specific_Ins = Instrument_Specific_Table.Inst_Spec_IDWHERE     (Instrument_Specific_Table.Inst_Spec_ID = 25)order by  Works_Table.Work_Title</cfquery> <cfif work GT 0><!---- get selected work details ---><cfquery name="workDetails" dbtype="query">Select Work_Title, Work_Date_String,Work_Length_String,Work_General_Commentsfrom pianoWorkswhere Work_ID = #work#</cfquery><!--- get recordings, if any....---><cfquery name="recordings" datasource="cage">SELECT DISTINCT                       Works_Table.Work_Title, Record_Table.Record_Title, Record_Table.Recording_Number, Record_Table.Cover_Thumb_Filename, Label_Table.Label,                       Label_Table.Country, Medium_Table.Medium, Record_Table.Record_Performers, dbo.Works_Table.Work_IDFROM         Record_Table INNER JOIN                      Track_Table ON Record_Table.Record_ID = Track_Table.Record_ID INNER JOIN                      Works_Table ON Track_Table.Work_Title = Works_Table.Work_ID INNER JOIN                      Label_Table ON Record_Table.Label = Label_Table.Label_ID INNER JOIN                      Medium_Table ON Record_Table.Medium = Medium_Table.Medium_IDWHERE     dbo.Works_Table.Work_ID = #work#</cfquery><cfscript>numberOfRecordings = #recordings.recordCount#;randomRecording = RandRange(1,numberOfRecordings); </cfscript></cfif></head><body><div class="container">  <div class="sidebar1">    <ul class="nav">    	<cfoutput query="pianoWorks">      <li><a href="p_pianoWorks2.cfm?work=#pianoWorks.Work_ID#">#pianoWorks.Work_Title#</a></li>      </cfoutput>    </ul>    </div>  <div class="content">  <cfif work EQ 0>    <h1>Instructions</h1>    <p>Select a prepared piano work on the left, and further information about that work will appear here.</p>  <cfelse>  <cfoutput>   <h1>#workDetails.Work_Title#</h1>   </cfoutput>   <cfoutput query="workDetails">     <table width="750" border="1">   <tr class="even">   <td width="50">#workDetails.Work_Date_String#</td>   <td width="50">#workDetails.Work_Length_String#</td>   <td width="500">#workDetails.Work_General_Comments#</td>   </tr>   </table>   </cfoutput>   <cfoutput>   <cfif numberOfRecordings GT 0> <p> There are #numberOfRecordings# recordings of #workDetails.Work_Title# in our database.</p> <p> Here is a random recording. Click <a href="p_pianoWorks2.cfm?work=#work#">here</a> to see another. <cfelse> <p>There are no recordings of  #workDetails.Work_Title# in our database.</p> 	</cfif>  <table width="500" border="1"><tr class="even">    <td>#recordings.Record_Title[randomRecording]#</td>    <td>#recordings.Record_Performers[randomRecording]#</td>    <td width="255"><img src="../db_images/Discog/Discimages/#recordings.Cover_Thumb_Filename[randomRecording]#" /></td>    <td>#recordings.Label[randomRecording]#</td>  </tr>  </cfoutput></table>  </cfif>      <!-- end .content --></div>  <!-- end .container --></div>  </body></html>